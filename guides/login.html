<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Guides Access</title>
</head>
<body>
  <h2>Enter Password to Access Guides</h2>
  <input type="password" id="pass">
  <button onclick="checkPass()">Enter</button>
  <p id="error" style="color:red;"></p>

  <script>
    const expectedHash = "8c176d6c3f81c5a9e8573b5f4c480d8a77d6c99b2d25c3e2ac9ae0fe26f3587e"; // "starlight-nova"

    async function sha256(str) {
      const buf = new TextEncoder().encode(str);
      const hashBuf = await crypto.subtle.digest('SHA-256', buf);
      return Array.from(new Uint8Array(hashBuf))
                  .map(b => b.toString(16).padStart(2, '0'))
                  .join('');
    }

    async function checkPass() {
      const pass = document.getElementById("pass").value;
      const hash = await sha256(pass);
      if (hash === expectedHash) {
        sessionStorage.setItem("accessGranted", "true");
        location.href = "index.html"; // redirect to first guide page
      } else {
        document.getElementById("error").textContent = "Wrong password.";
      }
    }
  </script>
</body>
</html>
